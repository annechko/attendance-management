{% extends 'menu-layout.html.twig' %}

{% block title %}Students{% endblock %}

{% block actions %}
    <div class='hstack gap-2 col-auto'>
        <input type='text' class='input-group-sm' placeholder='Search' />
        <a class="btn custom-btn btn-sm btn-outline-dark" href="{{ path('admin_student_new') }}">Create New</a>
    </div>
{% endblock %}

{% block contents %}

    <div class="table-responsive">
        <table class="table table-sm table-hover">
            <thead>
            <tr class="table-primary">
                <th >Id</th>
                <th >Name</th>
                <th >Date of Birth</th>
                <th >Gender</th>
                <th>Email</th>
                <th>Intake</th>
                <th >Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for student in students %}
                <tr onclick="showData({{ student.id }}, 'student')">
                    <td>{{ student.id }}</td>
                    <td>{{ student.name ~ ' ' ~ student.surname }}</td>
                    <td>{{ student.dateOfBirth ? student.dateOfBirth|date('Y-m-d') : '' }}</td>
                    <td>{{ student.gender }}</td>
                    <td>{{ student.email }}</td>
                    <td>
                        {% if student.intake %}
                            <a class="text-decoration-none" href="{{ path('admin_intake_show', {id: student.intake.id}) }}"
                            >{{ student.intake.name }}</a>
                        {% endif %}
                    </td>
                    <td>
                        <a class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover"
                                href="{{ path('admin_student_edit', {'id': student.id}) }}">
                                <i data-feather="edit"></i>
                        </a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="4">no records found</td>
                </tr>
            {% endfor %}

            </tbody>
        </table>
    </div>




{% endblock %}
